<!doctype html><html><head><meta charset=utf-8><title>树莓派连接DHT11温度湿度传感器 // Yuantops&#39; Blog</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta property=og:title content=树莓派连接DHT11温度湿度传感器><meta property=og:description content="我眼角余光瞟到书桌一角红色指示灯默默闪烁的树莓派Model 3 B，一年前将它买入，把玩几天就失去热情，从此心安理得地对它视而不见。微微尴尬歉意涌上心头，吹去外壳积尘陷入沉思。恰逢2018年过去一半又两个月，就像分手又复合男女下定决心狂甩誓言，命运(或许是空调冷气?)让我对该廉价所谓Geek玩物重燃兴趣。"><meta property=og:type content=website><meta property=og:locale content=en_US><meta property=og:url content=https://blog.yuantops.com/tech/rasp-pi-dht11/><link href rel=alternate type=application/rss+xml title="Yuantops' Blog"><link rel="shortcut icon" href=/favicon.ico><link href=https://blog.yuantops.com/webfonts/ptserif/main.css rel=stylesheet type=text/css><link href=https://blog.yuantops.com/webfonts/source-code-pro/main.css rel=stylesheet type=text/css><link rel=stylesheet href=https://blog.yuantops.com/css/style.css><link href=http://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="我眼角余光瞟到书桌一角红色指示灯默默闪烁的树莓派Model 3 B，一年前将它买入，把玩几天就失去热情，从此心安理得地对它视而不见。微微尴尬歉意涌上心头，吹去外壳积尘陷入沉思。恰逢2018年过去一半又两个月，就像分手又复合男女下定决心狂甩誓言，命运(或许是空调冷气?)让我对该廉价所谓Geek玩物重燃兴趣。"><meta name=keywords content=树莓派,DHT11,><meta name=author content><meta name=generator content="Hugo 0.50"></head><body><div id=container><header id=header><div id=header-outer class=outer><div id=header-inner class=inner><a id=main-nav-toggle class=nav-icon href=javascript:;></a><a id=logo class=logo-text href=https://blog.yuantops.com/>Yuantops&#39; Blog</a><nav id=main-nav><a class=main-nav-link href=/archives/>Archives</a>
<a class=main-nav-link href=/about/>About</a>
<a class=main-nav-link href=/index.xml>RSS</a></nav><nav id=sub-nav><div id=search-form-wrap></div></nav></div></div></header><section id=main class=outer><article class="article article-type-post" itemscope itemprop=blogPost><div class=article-inner><header class=article-header><h1 class=article-title itemprop=name>树莓派连接DHT11温度湿度传感器</h1></header><div class=article-meta><a href=/tech/rasp-pi-dht11/ class=article-date><time datetime=2018-07-28T20:30:45.000&#43;00:00 itemprop=datePublished>2018-07-28</time></a><div class=post-categories><div class=article-category><a class=article-category-link href=https://blog.yuantops.com//categories/tech>Tech</a></div><div class=article-category>63字, 约1分钟读完</div></div></div><div class=article-entry itemprop=articleBody><p>记录一下给树莓派安装温度湿度传感器的过程。</p><p>树莓派主板有一排GPIO扩展口，可以方便地驱动硬件。温度湿度传感器DHT11是一种常见传感器，很适合作为入门器件，探索树莓派的硬件能力。</p><p>我上次接触硬件知识还是在大二的单片机小学期，几乎已经忘光，正好趁机抢救性回忆一下。</p><h1 id=目标>目标</h1><p>在树莓派上读到温度和湿度数据。</p><h1 id=元件清单>元件清单</h1><p>除了传感器DHT11，还需要连接线、面包板等元件，在淘宝上很好买到。</p><p>我额外买了一块树莓派特制GPIO扩展板，用它把树莓派的40根针脚延长到面包板，类似USB延长线。很怀疑这是来自中国的&rdquo;微创新&rdquo;，值得赞美，因为确实解决了树莓派针脚空间狭小不便于插线的小痛点。</p><p>下面是元件清单：</p><ol><li>树莓派Model 3 B<br></li><li>DHT11传感器。我用的是三脚型号。<br></li><li>面包板<br></li><li>杜邦线/连接线<br></li></ol><h1 id=插线>插线</h1><p>在实际插线之前，有必要先来认识树莓派针脚。树莓派3代一共40根针脚，这么辨认物理编号：横着放，让2排针脚在上面，上面那排是偶数，从左到右是2到40；下面那排是奇数，从左到右是1到39。</p><p>40根针脚里，有28根GPIO针脚。这28根针脚，又有两种命名规则：BCM编号，WiringPi编号。还要注意，树莓派2代和3代的对应关系不一样，参考网上资料时要看清针脚图的型号。</p><ul><li>BCM编号，就是我们常看见的 <code>GPIOxx</code> 里面的 <code>xx</code> 。</li><li>WiringPi编号，是 <a href=http://wiringpi.com/>WiringPi库</a>
使用的编号。除非是用WiringPi库驱动针脚，否则不需关注。</li></ul><p>对我这样的新手而言，最初物理编号和BCM编号两套规则切换起来有些烦人，需要一些细心。</p><p>下面的接线方案，用的是物理编号：</p><ol><li>左边 <code>+</code> 接3.3V电源，选择 <code>1</code> 口。</li><li>中间 <code>DATA</code> ，选择 <code>7</code> 口。</li><li>右边 <code>-</code> 接地，选择 <code>14</code> 口。</li></ol><h1 id=安装命令>安装命令</h1><p>DHT11是非常成熟通用的传感器，对它的驱动封装也特别多，不需再造轮子。货比三家，我发现Adafruit公司开源的代码质量最高，运行起来最稳定。</p><ol><li><p>安装Adadruit公司的开源库：<a href=https://github.com/adafruit/Adafruit_Python_DHT>Adafruit Python DHT</a></p></li><li><p>在安装目录下, 进入example目录，运行 <code>AdafruitDHT.py</code>
文件:</p><pre><code class=language-shell>pi@raspberrypi:~/Adafruit_Python_DHT/examples $ python AdafruitDHT.py 
0 30.0 C 70.0%
</code></pre><p>我房间此时是30摄氏度，湿度70%。</p></li></ol><p>至此DHT11温度湿度传感器的安装完成。</p><p>更进一步，在手机上查看，或者在LCD显示屏上展示，请期待后续文章。</p></div><div class=article-toc style=display:none><h3>Contents</h3><nav id=TableOfContents><ul><li><a href=#目标>目标</a></li><li><a href=#元件清单>元件清单</a></li><li><a href=#插线>插线</a></li><li><a href=#安装命令>安装命令</a></li></ul></nav></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.slim.min.js integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin=anonymous></script><script>(function(){var $toc=$('#TableOfContents');if($toc.length>0){var $window=$(window);function onScroll(){var currentScroll=$window.scrollTop();var h=$('.article-entry h1, .article-entry h2, .article-entry h3, .article-entry h4, .article-entry h5, .article-entry h6');var id="";h.each(function(i,e){e=$(e);if(e.offset().top-10<=currentScroll){id=e.attr('id');}});var active=$toc.find('a.active');if(active.length==1&&active.eq(0).attr('href')=='#'+id)return true;active.each(function(i,e){$(e).removeClass('active').siblings('ul').hide();});$toc.find('a[href="#'+id+'"]').parentsUntil('#TableOfContents').each(function(i,e){$(e).children('a').addClass('active').siblings('ul').show();});}
$window.on('scroll',onScroll);$(document).ready(function(){$toc.find('a').parent('li').find('ul').hide();onScroll();document.getElementsByClassName('article-toc')[0].style.display='';});}})();</script><footer class=article-footer><ul class=article-tag-list><li class=article-tag-list-item><a class=article-tag-list-link href=https://blog.yuantops.com//tags/%E6%A0%91%E8%8E%93%E6%B4%BE>树莓派</a></li></ul></footer></div><nav id=article-nav><a href=/tech/homebridge-plugin-tutorial/ id=article-nav-newer class=article-nav-link-wrap><div class=article-nav-title><span>&lt;</span>&nbsp;
[译文]让Siri变身完美家庭助手：兼容Apple Homekit不支持的设备</div></a><a href=/opinions/talk-between-wangshuo-and-xiaobo-review/ id=article-nav-older class=article-nav-link-wrap><div class=article-nav-title>诚实与圣徒——读《美人赠我蒙汗药》&nbsp;<span>&gt;</span></div></a></nav></article></section><footer id=footer><div class=outer><div id=footer-info class=inner>&copy; 2012-2021 @yuantops&nbsp;</br>Proudly powered by <a href=https://gohugo.io target=_blank>Hugo</a> with theme <a href=https://github.com/carsonip/hugo-theme-minos>Minos</a></div></div><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-57420914-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/tomorrow-night.min.css integrity="sha256-2wL88NKUqvJi/ExflDzkzUumjUM73mcK2gBvBBeLvTk=" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js integrity="sha256-KbfTjB0WZ8vvXngdpJGY3Yp3xKk+tttbqClO11anCIU=" crossorigin=anonymous></script><script>hljs.initHighlightingOnLoad();</script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css integrity=sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0 crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js integrity=sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1 crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js integrity="sha256-ExtbCSBuYA7kq1Pz362ibde9nnsHYPt6JxuxYeZbU+c=" crossorigin=anonymous></script><script>renderMathInElement(document.body);</script><script>document.getElementById('main-nav-toggle').addEventListener('click',function(){var header=document.getElementById('header');if(header.classList.contains('mobile-on')){header.classList.remove('mobile-on');}else{header.classList.add('mobile-on');}});</script></footer></div></body></html>